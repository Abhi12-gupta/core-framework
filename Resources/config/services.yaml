services:
    uvdesk.service:
        public: true
        class: Webkul\UVDesk\CoreFrameworkBundle\Services\UVDeskService
        arguments: ['@service_container', '@request_stack', '@doctrine.orm.entity_manager']

    user.provider:
        public: true
        class: Webkul\UVDesk\CoreFrameworkBundle\Providers\UserProvider
        arguments: ['@security.firewall.map', '@service_container', '@request_stack', '@doctrine.orm.entity_manager']

    user.service:
        public: true
        class: Webkul\UVDesk\CoreFrameworkBundle\Services\UserService
        arguments: ['@service_container', '@request_stack', '@doctrine.orm.entity_manager']

    email.service:
        public: true
        class: Webkul\UVDesk\CoreFrameworkBundle\Services\EmailService
        arguments: ['@service_container', '@request_stack', '@doctrine.orm.entity_manager']

    ticket.service:
        public: true
        class: Webkul\UVDesk\CoreFrameworkBundle\Services\TicketService
        arguments: ['@service_container', '@request_stack', '@doctrine.orm.entity_manager']

    uvdesk.core.file_system.service:
        public: true
        class: Webkul\UVDesk\CoreFrameworkBundle\FileSystem\FileSystem
        arguments: ['@service_container', '@request_stack']

    swiftmailer.service:
        public: true
        class: Webkul\UVDesk\CoreFrameworkBundle\SwiftMailer\SwiftMailer
        arguments: ['@service_container']
    
    Webkul\UVDesk\CoreFrameworkBundle\EventDispatcher\Core:
        arguments: ['@service_container', '@request_stack']
    
    uvdesk.core.event_dispatcher:
        public: true
        alias: Webkul\UVDesk\CoreFrameworkBundle\EventDispatcher\Core
    
    Webkul\UVDesk\CoreFrameworkBundle\Guides\:
        resource: '../../Guides/*'
        tags: ['console.command']

    Webkul\UVDesk\CoreFrameworkBundle\Console\:
        resource: '../../Console/*'
        arguments: ['@service_container', '@doctrine.orm.entity_manager']
        tags: ['console.command']

    Webkul\UVDesk\CoreFrameworkBundle\Fixtures\:
        resource: '../../Fixtures/*'
        arguments: ['@service_container', '@doctrine.orm.entity_manager']
        tags: ['doctrine.fixture.orm']

    Webkul\UVDesk\CoreFrameworkBundle\Security\TicketVoter:
        arguments: ['@service_container', '@security.access.decision_manager']
        tags:
            - { name: security.voter }

    Webkul\UVDesk\CoreFrameworkBundle\FileSystem\UploadManagers\:
        public: true
        resource: '../../FileSystem/UploadManagers/*'
        arguments: ['@service_container', '@request_stack']
    
    Webkul\UVDesk\CoreFrameworkBundle\EventListener\Doctrine\Lifecycle:
        arguments: ['@service_container']
        tags:
            - { name: doctrine.event_listener, event: prePersist }
            - { name: doctrine.event_listener, event: preUpdate }
            - { name: doctrine.event_listener, event: postLoad }
    
    Webkul\UVDesk\CoreFrameworkBundle\EventListener\Console\Console:
        arguments: ['@service_container', '@doctrine.orm.entity_manager']
        tags:
            - { name: kernel.event_listener, event: console.command }
            - { name: kernel.event_listener, event: console.terminate }
    
    Webkul\UVDesk\CoreFrameworkBundle\EventListener\Swiftmailer:
        arguments: ['@service_container']
        tags:
            - { name: uvdesk.event_listener, event: swiftmailer.configuration.updated, method: onSwiftmailerConfigurationUpdated }
            - { name: uvdesk.event_listener, event: swiftmailer.configuration.removed, method: onSwiftmailerConfigurationRemoved }

    Webkul\UVDesk\CoreFrameworkBundle\Extension\TwigExtension:
        tags:
            - { name: twig.extension }
